// Code generated by go-swagger; DO NOT EDIT.

package utilities

// This file was generated by the swagger tool.
// Editing this file might prove futile when you re-run the swagger generate command

import (
	"fmt"

	"github.com/go-openapi/runtime"
	"github.com/go-openapi/strfmt"
)

// New creates a new utilities API client.
func New(transport runtime.ClientTransport, formats strfmt.Registry) ClientService {
	return &Client{transport: transport, formats: formats}
}

/*
Client for utilities API
*/
type Client struct {
	transport runtime.ClientTransport
	formats   strfmt.Registry
}

// ClientOption is the option for Client methods
type ClientOption func(*runtime.ClientOperation)

// ClientService is the interface for Client methods
type ClientService interface {
	GetMySubscription(params *GetMySubscriptionParams, authInfo runtime.ClientAuthInfoWriter, opts ...ClientOption) (*GetMySubscriptionOK, error)

	ListMySubscriptions(params *ListMySubscriptionsParams, authInfo runtime.ClientAuthInfoWriter, opts ...ClientOption) (*ListMySubscriptionsOK, error)

	Ping(params *PingParams, authInfo runtime.ClientAuthInfoWriter, opts ...ClientOption) (*PingOK, error)

	SetTransport(transport runtime.ClientTransport)
}

/*
  GetMySubscription checks if the current user is subscribed to a specific service

  Returns a subscription object for the current account, or 404 Not Found if this subscription is not enabled for this account.

This API will return an error if it is called with invalid authentication credentials.

This API is intended to help you determine whether you have the necessary subscription to use certain API calls
within AvaTax.  You can examine the subscriptions returned from this API call to look for a particular product
or subscription to provide useful information to the current user as to whether they are entitled to use
specific features of AvaTax.
*/
func (a *Client) GetMySubscription(params *GetMySubscriptionParams, authInfo runtime.ClientAuthInfoWriter, opts ...ClientOption) (*GetMySubscriptionOK, error) {
	// TODO: Validate the params before sending
	if params == nil {
		params = NewGetMySubscriptionParams()
	}
	op := &runtime.ClientOperation{
		ID:                 "GetMySubscription",
		Method:             "GET",
		PathPattern:        "/api/v2/utilities/subscriptions/{serviceTypeId}",
		ProducesMediaTypes: []string{"application/json"},
		ConsumesMediaTypes: []string{"application/json"},
		Schemes:            []string{"https"},
		Params:             params,
		Reader:             &GetMySubscriptionReader{formats: a.formats},
		AuthInfo:           authInfo,
		Context:            params.Context,
		Client:             params.HTTPClient,
	}
	for _, opt := range opts {
		opt(op)
	}

	result, err := a.transport.Submit(op)
	if err != nil {
		return nil, err
	}
	success, ok := result.(*GetMySubscriptionOK)
	if ok {
		return success, nil
	}
	// unexpected success response
	// safeguard: normally, absent a default response, unknown success responses return an error above: so this is a codegen issue
	msg := fmt.Sprintf("unexpected success response for GetMySubscription: API contract not enforced by server. Client expected to get an error, but got: %T", result)
	panic(msg)
}

/*
  ListMySubscriptions lists all services to which the current user is subscribed

  Returns the list of all subscriptions enabled for the currently logged in user.

This API will return an error if it is called with invalid authentication credentials.

This API is intended to help you determine whether you have the necessary subscription to use certain API calls
within AvaTax.  You can examine the subscriptions returned from this API call to look for a particular product
or subscription to provide useful information to the current user as to whether they are entitled to use
specific features of AvaTax.
*/
func (a *Client) ListMySubscriptions(params *ListMySubscriptionsParams, authInfo runtime.ClientAuthInfoWriter, opts ...ClientOption) (*ListMySubscriptionsOK, error) {
	// TODO: Validate the params before sending
	if params == nil {
		params = NewListMySubscriptionsParams()
	}
	op := &runtime.ClientOperation{
		ID:                 "ListMySubscriptions",
		Method:             "GET",
		PathPattern:        "/api/v2/utilities/subscriptions",
		ProducesMediaTypes: []string{"application/json"},
		ConsumesMediaTypes: []string{"application/json"},
		Schemes:            []string{"https"},
		Params:             params,
		Reader:             &ListMySubscriptionsReader{formats: a.formats},
		AuthInfo:           authInfo,
		Context:            params.Context,
		Client:             params.HTTPClient,
	}
	for _, opt := range opts {
		opt(op)
	}

	result, err := a.transport.Submit(op)
	if err != nil {
		return nil, err
	}
	success, ok := result.(*ListMySubscriptionsOK)
	if ok {
		return success, nil
	}
	// unexpected success response
	// safeguard: normally, absent a default response, unknown success responses return an error above: so this is a codegen issue
	msg := fmt.Sprintf("unexpected success response for ListMySubscriptions: API contract not enforced by server. Client expected to get an error, but got: %T", result)
	panic(msg)
}

/*
  Ping tests connectivity and version of the service

  Check connectivity to AvaTax and return information about the AvaTax API server.

This API is intended to help you verify that your connection is working.  This API will always succeed and will
never return a error.  It provides basic information about the server you connect to:

* `version` - The version number of the AvaTax API server that responded to your request.  The AvaTax API version number is updated once per month during Avalara's update process.
* `authenticated` - A boolean flag indicating whether or not you sent valid credentials with your API request.
* `authenticationType` - If you provided valid credentials to the API, this field will tell you whether you used Bearer, Username, or LicenseKey authentication.
* `authenticatedUserName` - If you provided valid credentials to the API, this field will tell you the username of the currently logged in user.
* `authenticatedUserId` - If you provided valid credentials to the API, this field will tell you the user ID of the currently logged in user.
* `authenticatedAccountId` - If you provided valid credentials to the API, this field will contain the account ID of the currently logged in user.

This API helps diagnose connectivity problems between your application and AvaTax; you may call this API even
if you do not have verified connection credentials.  If this API fails, either your computer is not connected to
the internet, or there is a routing problem between your office and Avalara, or the Avalara server is not available.
For more information on the uptime of AvaTax, please see [Avalara's AvaTax Status Page](https://status.avalara.com/).

### Security Policies

* This API may be called without providing authentication credentials.

*/
func (a *Client) Ping(params *PingParams, authInfo runtime.ClientAuthInfoWriter, opts ...ClientOption) (*PingOK, error) {
	// TODO: Validate the params before sending
	if params == nil {
		params = NewPingParams()
	}
	op := &runtime.ClientOperation{
		ID:                 "Ping",
		Method:             "GET",
		PathPattern:        "/api/v2/utilities/ping",
		ProducesMediaTypes: []string{"application/json"},
		ConsumesMediaTypes: []string{"application/json"},
		Schemes:            []string{"https"},
		Params:             params,
		Reader:             &PingReader{formats: a.formats},
		AuthInfo:           authInfo,
		Context:            params.Context,
		Client:             params.HTTPClient,
	}
	for _, opt := range opts {
		opt(op)
	}

	result, err := a.transport.Submit(op)
	if err != nil {
		return nil, err
	}
	success, ok := result.(*PingOK)
	if ok {
		return success, nil
	}
	// unexpected success response
	// safeguard: normally, absent a default response, unknown success responses return an error above: so this is a codegen issue
	msg := fmt.Sprintf("unexpected success response for Ping: API contract not enforced by server. Client expected to get an error, but got: %T", result)
	panic(msg)
}

// SetTransport changes the transport on the client
func (a *Client) SetTransport(transport runtime.ClientTransport) {
	a.transport = transport
}
