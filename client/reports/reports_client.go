// Code generated by go-swagger; DO NOT EDIT.

package reports

// This file was generated by the swagger tool.
// Editing this file might prove futile when you re-run the swagger generate command

import (
	"fmt"
	"io"

	"github.com/go-openapi/runtime"
	"github.com/go-openapi/strfmt"
)

// New creates a new reports API client.
func New(transport runtime.ClientTransport, formats strfmt.Registry) ClientService {
	return &Client{transport: transport, formats: formats}
}

/*
Client for reports API
*/
type Client struct {
	transport runtime.ClientTransport
	formats   strfmt.Registry
}

// ClientOption is the option for Client methods
type ClientOption func(*runtime.ClientOperation)

// ClientService is the interface for Client methods
type ClientService interface {
	DownloadReport(params *DownloadReportParams, authInfo runtime.ClientAuthInfoWriter, writer io.Writer, opts ...ClientOption) (*DownloadReportOK, error)

	GetReport(params *GetReportParams, authInfo runtime.ClientAuthInfoWriter, opts ...ClientOption) (*GetReportOK, error)

	InitiateExportDocumentLineReport(params *InitiateExportDocumentLineReportParams, authInfo runtime.ClientAuthInfoWriter, opts ...ClientOption) (*InitiateExportDocumentLineReportOK, error)

	ListReports(params *ListReportsParams, authInfo runtime.ClientAuthInfoWriter, opts ...ClientOption) (*ListReportsOK, error)

	SetTransport(transport runtime.ClientTransport)
}

/*
  DownloadReport downloads a report

  This API downloads the file associated with a report.

If the report is not yet complete, you will receive a `ReportNotFinished` error.  To check if a report is complete,
use the `GetReport` API.

Reports are run as asynchronous report tasks on the server.  When complete, the report file will be available for download
for up to 30 days after completion.  To run an asynchronous report, you should follow these steps:

* Begin a report by calling the report's Initiate API.  There is a separate initiate API call for each report type.
* In the result of the Initiate API, you receive back a report's `id` value.
* Check the status of a report by calling `GetReport` and passing in the report's `id` value.
* When a report's status is `Completed`, call `DownloadReport` to retrieve the file.

* We throttle this API. You can only call this API up to 5 times in a minute.

### Security Policies

* This API requires one of the following user roles: AccountAdmin, AccountUser, CompanyAdmin, CompanyUser, CSPAdmin, CSPTester, ProStoresOperator, SiteAdmin, SSTAdmin, SystemAdmin, TechnicalSupportAdmin, TechnicalSupportUser.

*/
func (a *Client) DownloadReport(params *DownloadReportParams, authInfo runtime.ClientAuthInfoWriter, writer io.Writer, opts ...ClientOption) (*DownloadReportOK, error) {
	// TODO: Validate the params before sending
	if params == nil {
		params = NewDownloadReportParams()
	}
	op := &runtime.ClientOperation{
		ID:                 "DownloadReport",
		Method:             "GET",
		PathPattern:        "/api/v2/reports/{id}/attachment",
		ProducesMediaTypes: []string{"application/json", "application/octet-stream"},
		ConsumesMediaTypes: []string{"application/json"},
		Schemes:            []string{"https"},
		Params:             params,
		Reader:             &DownloadReportReader{formats: a.formats, writer: writer},
		AuthInfo:           authInfo,
		Context:            params.Context,
		Client:             params.HTTPClient,
	}
	for _, opt := range opts {
		opt(op)
	}

	result, err := a.transport.Submit(op)
	if err != nil {
		return nil, err
	}
	success, ok := result.(*DownloadReportOK)
	if ok {
		return success, nil
	}
	// unexpected success response
	// safeguard: normally, absent a default response, unknown success responses return an error above: so this is a codegen issue
	msg := fmt.Sprintf("unexpected success response for DownloadReport: API contract not enforced by server. Client expected to get an error, but got: %T", result)
	panic(msg)
}

/*
  GetReport retrieves a single report

  Retrieve a single report by its unique ID number.

Reports are run as asynchronous report tasks on the server.  When complete, the report file will be available for download
for up to 30 days after completion.  To run an asynchronous report, you should follow these steps:

* Begin a report by calling the report's Initiate API.  There is a separate initiate API call for each report type.
* In the result of the Initiate API, you receive back a report's `id` value.
* Check the status of a report by calling `GetReport` and passing in the report's `id` value.
* When a report's status is `Completed`, call `DownloadReport` to retrieve the file.

This API call returns information about any report type.
*/
func (a *Client) GetReport(params *GetReportParams, authInfo runtime.ClientAuthInfoWriter, opts ...ClientOption) (*GetReportOK, error) {
	// TODO: Validate the params before sending
	if params == nil {
		params = NewGetReportParams()
	}
	op := &runtime.ClientOperation{
		ID:                 "GetReport",
		Method:             "GET",
		PathPattern:        "/api/v2/reports/{id}",
		ProducesMediaTypes: []string{"application/json"},
		ConsumesMediaTypes: []string{"application/json"},
		Schemes:            []string{"https"},
		Params:             params,
		Reader:             &GetReportReader{formats: a.formats},
		AuthInfo:           authInfo,
		Context:            params.Context,
		Client:             params.HTTPClient,
	}
	for _, opt := range opts {
		opt(op)
	}

	result, err := a.transport.Submit(op)
	if err != nil {
		return nil, err
	}
	success, ok := result.(*GetReportOK)
	if ok {
		return success, nil
	}
	// unexpected success response
	// safeguard: normally, absent a default response, unknown success responses return an error above: so this is a codegen issue
	msg := fmt.Sprintf("unexpected success response for GetReport: API contract not enforced by server. Client expected to get an error, but got: %T", result)
	panic(msg)
}

/*
  InitiateExportDocumentLineReport initiates an export document line report task

  Begins running an `ExportDocumentLine` report task and returns the identity of the report.

Reports are run as asynchronous report tasks on the server.  When complete, the report file will be available for download
for up to 30 days after completion.  To run an asynchronous report, you should follow these steps:

* Begin a report by calling the report's Initiate API.  There is a separate initiate API call for each report type.
* In the result of the Initiate API, you receive back a report's `id` value.
* Check the status of a report by calling `GetReport` and passing in the report's `id` value.
* When a report's status is `Completed`, call `DownloadReport` to retrieve the file.

The `ExportDocumentLine` report produces information about invoice lines recorded within your account.

To split large reports into multiple smaller partitions, use the numberOfPartitions and partition properties on ExportDocumentLineModel.

Example - split a report into three partitions

* Follow the steps above with numberOfPartitions = 3 and partition = 0
* Follow the steps above with numberOfPartitions = 3 and partition = 1
* Follow the steps above with numberOfPartitions = 3 and partition = 2
* Once all three reports are downloaded merge the files on the client side.

### Security Policies

* This API requires one of the following user roles: AccountAdmin, AccountOperator, AccountUser, CompanyAdmin, CompanyUser, CSPTester, SSTAdmin, TechnicalSupportAdmin, TechnicalSupportUser.

*/
func (a *Client) InitiateExportDocumentLineReport(params *InitiateExportDocumentLineReportParams, authInfo runtime.ClientAuthInfoWriter, opts ...ClientOption) (*InitiateExportDocumentLineReportOK, error) {
	// TODO: Validate the params before sending
	if params == nil {
		params = NewInitiateExportDocumentLineReportParams()
	}
	op := &runtime.ClientOperation{
		ID:                 "InitiateExportDocumentLineReport",
		Method:             "POST",
		PathPattern:        "/api/v2/companies/{companyId}/reports/exportdocumentline/initiate",
		ProducesMediaTypes: []string{"application/json"},
		ConsumesMediaTypes: []string{"application/*+json", "application/json", "application/json-patch+json", "text/json"},
		Schemes:            []string{"https"},
		Params:             params,
		Reader:             &InitiateExportDocumentLineReportReader{formats: a.formats},
		AuthInfo:           authInfo,
		Context:            params.Context,
		Client:             params.HTTPClient,
	}
	for _, opt := range opts {
		opt(op)
	}

	result, err := a.transport.Submit(op)
	if err != nil {
		return nil, err
	}
	success, ok := result.(*InitiateExportDocumentLineReportOK)
	if ok {
		return success, nil
	}
	// unexpected success response
	// safeguard: normally, absent a default response, unknown success responses return an error above: so this is a codegen issue
	msg := fmt.Sprintf("unexpected success response for InitiateExportDocumentLineReport: API contract not enforced by server. Client expected to get an error, but got: %T", result)
	panic(msg)
}

/*
  ListReports lists all report tasks for account

  List all report tasks for your account.

Reports are run as asynchronous report tasks on the server.  When complete, the report file will be available for download
for up to 30 days after completion.  To run an asynchronous report, you should follow these steps:

* Begin a report by calling the report's Initiate API.  There is a separate initiate API call for each report type.
* In the result of the Initiate API, you receive back a report's `id` value.
* Check the status of a report by calling `GetReport` and passing in the report's `id` value.
* When a report's status is `Completed`, call `DownloadReport` to retrieve the file.

This API call returns information about all report types across your entire account.

### Security Policies

* This API requires one of the following user roles: AccountAdmin, AccountUser, CompanyAdmin, CompanyUser, CSPAdmin, CSPTester, ProStoresOperator, SiteAdmin, SSTAdmin, SystemAdmin, TechnicalSupportAdmin, TechnicalSupportUser.

*/
func (a *Client) ListReports(params *ListReportsParams, authInfo runtime.ClientAuthInfoWriter, opts ...ClientOption) (*ListReportsOK, error) {
	// TODO: Validate the params before sending
	if params == nil {
		params = NewListReportsParams()
	}
	op := &runtime.ClientOperation{
		ID:                 "ListReports",
		Method:             "GET",
		PathPattern:        "/api/v2/reports",
		ProducesMediaTypes: []string{"application/json"},
		ConsumesMediaTypes: []string{"application/json"},
		Schemes:            []string{"https"},
		Params:             params,
		Reader:             &ListReportsReader{formats: a.formats},
		AuthInfo:           authInfo,
		Context:            params.Context,
		Client:             params.HTTPClient,
	}
	for _, opt := range opts {
		opt(op)
	}

	result, err := a.transport.Submit(op)
	if err != nil {
		return nil, err
	}
	success, ok := result.(*ListReportsOK)
	if ok {
		return success, nil
	}
	// unexpected success response
	// safeguard: normally, absent a default response, unknown success responses return an error above: so this is a codegen issue
	msg := fmt.Sprintf("unexpected success response for ListReports: API contract not enforced by server. Client expected to get an error, but got: %T", result)
	panic(msg)
}

// SetTransport changes the transport on the client
func (a *Client) SetTransport(transport runtime.ClientTransport) {
	a.transport = transport
}
