// Code generated by go-swagger; DO NOT EDIT.

package models

// This file was generated by the swagger tool.
// Editing this file might prove futile when you re-run the swagger generate command

import (
	"context"
	"strconv"

	"github.com/go-openapi/errors"
	"github.com/go-openapi/strfmt"
	"github.com/go-openapi/swag"
)

// NexusByAddressModel Contains information about nexus jurisdictions that were declared
// as a result of a call to `DeclareNexusByAddress`.  For each address,
// this object model contains a list of the nexus objects that were declared
// according to the geocoding that corresponds to this address.
// Example: {"address":{"city":"Irvine","country":"US","effectiveDate":"2018-01-01T00:00:00","endDate":"2020-12-31T00:00:00","line1":"2000 Main Street","postalCode":"92614","region":"CA"},"declaredNexus":[{"companyId":0,"country":"US","createdDate":"2017-06-30T05:14:06.003","createdUserId":0,"effectiveDate":"2017-04-01","hasLocalNexus":false,"hasPermanentEstablishment":true,"id":0,"isSSTActive":false,"isSellerImporterOfRecord":false,"jurisCode":"06","jurisName":"CALIFORNIA","jurisTypeId":"STA","jurisdictionTypeId":"State","modifiedDate":"2021-12-06T09:14:53.693","modifiedUserId":0,"nexusTaxTypeGroup":"SalesAndUse","nexusTypeId":"SalesOrSellersUseTax","region":"CA","shortName":"CALIFORNIA","signatureCode":"","sourcing":"Destination","stateAssignedNo":"","streamlinedSalesTax":false,"taxName":"Tire Fee","taxTypeGroup":"EWaste","taxableNexus":true}]}
//
// swagger:model NexusByAddressModel
type NexusByAddressModel struct {

	// The address that was provided by the user in the call to `DeclareNexusByAddress`
	// Example: {"city":"Irvine","country":"US","effectiveDate":"2018-01-01T00:00:00","endDate":"2020-12-31T00:00:00","line1":"2000 Main Street","postalCode":"92614","region":"CA"}
	Address *DeclareNexusByAddressModel `json:"address,omitempty"`

	// List of all nexus objects that were affected by declaring nexus at the address specified
	// by `address`.
	// Example: [{"companyId":0,"country":"US","createdDate":"2017-06-30T05:14:06.003","createdUserId":0,"effectiveDate":"2017-04-01","hasLocalNexus":false,"hasPermanentEstablishment":true,"id":0,"isSSTActive":false,"isSellerImporterOfRecord":false,"jurisCode":"06","jurisName":"CALIFORNIA","jurisTypeId":"STA","jurisdictionTypeId":"State","modifiedDate":"2021-12-06T09:14:53.693","modifiedUserId":0,"nexusTaxTypeGroup":"SalesAndUse","nexusTypeId":"SalesOrSellersUseTax","region":"CA","shortName":"CALIFORNIA","signatureCode":"","sourcing":"Destination","stateAssignedNo":"","streamlinedSalesTax":false,"taxName":"Tire Fee","taxTypeGroup":"EWaste","taxableNexus":true}]
	DeclaredNexus []*NexusModel `json:"declaredNexus"`
}

// Validate validates this nexus by address model
func (m *NexusByAddressModel) Validate(formats strfmt.Registry) error {
	var res []error

	if err := m.validateAddress(formats); err != nil {
		res = append(res, err)
	}

	if err := m.validateDeclaredNexus(formats); err != nil {
		res = append(res, err)
	}

	if len(res) > 0 {
		return errors.CompositeValidationError(res...)
	}
	return nil
}

func (m *NexusByAddressModel) validateAddress(formats strfmt.Registry) error {
	if swag.IsZero(m.Address) { // not required
		return nil
	}

	if m.Address != nil {
		if err := m.Address.Validate(formats); err != nil {
			if ve, ok := err.(*errors.Validation); ok {
				return ve.ValidateName("address")
			} else if ce, ok := err.(*errors.CompositeError); ok {
				return ce.ValidateName("address")
			}
			return err
		}
	}

	return nil
}

func (m *NexusByAddressModel) validateDeclaredNexus(formats strfmt.Registry) error {
	if swag.IsZero(m.DeclaredNexus) { // not required
		return nil
	}

	for i := 0; i < len(m.DeclaredNexus); i++ {
		if swag.IsZero(m.DeclaredNexus[i]) { // not required
			continue
		}

		if m.DeclaredNexus[i] != nil {
			if err := m.DeclaredNexus[i].Validate(formats); err != nil {
				if ve, ok := err.(*errors.Validation); ok {
					return ve.ValidateName("declaredNexus" + "." + strconv.Itoa(i))
				} else if ce, ok := err.(*errors.CompositeError); ok {
					return ce.ValidateName("declaredNexus" + "." + strconv.Itoa(i))
				}
				return err
			}
		}

	}

	return nil
}

// ContextValidate validate this nexus by address model based on the context it is used
func (m *NexusByAddressModel) ContextValidate(ctx context.Context, formats strfmt.Registry) error {
	var res []error

	if err := m.contextValidateAddress(ctx, formats); err != nil {
		res = append(res, err)
	}

	if err := m.contextValidateDeclaredNexus(ctx, formats); err != nil {
		res = append(res, err)
	}

	if len(res) > 0 {
		return errors.CompositeValidationError(res...)
	}
	return nil
}

func (m *NexusByAddressModel) contextValidateAddress(ctx context.Context, formats strfmt.Registry) error {

	if m.Address != nil {
		if err := m.Address.ContextValidate(ctx, formats); err != nil {
			if ve, ok := err.(*errors.Validation); ok {
				return ve.ValidateName("address")
			} else if ce, ok := err.(*errors.CompositeError); ok {
				return ce.ValidateName("address")
			}
			return err
		}
	}

	return nil
}

func (m *NexusByAddressModel) contextValidateDeclaredNexus(ctx context.Context, formats strfmt.Registry) error {

	for i := 0; i < len(m.DeclaredNexus); i++ {

		if m.DeclaredNexus[i] != nil {
			if err := m.DeclaredNexus[i].ContextValidate(ctx, formats); err != nil {
				if ve, ok := err.(*errors.Validation); ok {
					return ve.ValidateName("declaredNexus" + "." + strconv.Itoa(i))
				} else if ce, ok := err.(*errors.CompositeError); ok {
					return ce.ValidateName("declaredNexus" + "." + strconv.Itoa(i))
				}
				return err
			}
		}

	}

	return nil
}

// MarshalBinary interface implementation
func (m *NexusByAddressModel) MarshalBinary() ([]byte, error) {
	if m == nil {
		return nil, nil
	}
	return swag.WriteJSON(m)
}

// UnmarshalBinary interface implementation
func (m *NexusByAddressModel) UnmarshalBinary(b []byte) error {
	var res NexusByAddressModel
	if err := swag.ReadJSON(b, &res); err != nil {
		return err
	}
	*m = res
	return nil
}
