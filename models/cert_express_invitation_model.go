// Code generated by go-swagger; DO NOT EDIT.

package models

// This file was generated by the swagger tool.
// Editing this file might prove futile when you re-run the swagger generate command

import (
	"context"
	"encoding/json"

	"github.com/go-openapi/errors"
	"github.com/go-openapi/strfmt"
	"github.com/go-openapi/swag"
	"github.com/go-openapi/validate"
)

// CertExpressInvitationModel Represents an invitation for a customer to use CertExpress to self-report their own certificates.
// This invitation is delivered by your choice of method, or you can present a hyperlink to the user
// directly in your connector.  Your customer will be redirected to https://app.certexpress.com/ where
// they can follow a step-by-step guide to enter information about their exemption certificates.  The
// certificates entered will be recorded and automatically linked to their customer record.
// Example: {"customerCode":"ABC"}
//
// swagger:model CertExpressInvitationModel
type CertExpressInvitationModel struct {

	// The unique ID number of the AvaTax company that sent this invitation.
	CompanyID int32 `json:"companyId,omitempty"`

	// The attached cover letter object to this request.
	// Example: {"createdDate":"0001-01-01T00:00:00","description":"Please upload your certificate to CertCapture","modifiedDate":"0001-01-01T00:00:00","subject":"Please submit your exemption certificate","title":"STANDARD_REQUEST","version":0}
	// Read Only: true
	CoverLetter *CoverLetterModel `json:"coverLetter,omitempty"`

	// True if this invitation contained a cover letter only.
	// Read Only: true
	CoverLettersOnly *bool `json:"coverLettersOnly,omitempty"`

	// The customer who received this invitation.
	// Example: {"alternateId":"987654321","attnName":"Attn: Receiving","city":"Irvine","companyId":0,"contactName":"Alice Smith","country":"US","customerCode":"4346d9f4-b0c4-4d6b-8b42-83b9f509da29","emailAddress":"dr.bob.example@example.org","exposureZones":[{"name":"Washington"}],"faxNumber":"949.555.1213","lastTransaction":"2008-10-08T00:00:00","line1":"645 Main Street","name":"Dr. Bob Example","phoneNumber":"(949) 555-1212","postalCode":"92614","region":"CA"}
	// Read Only: true
	Customer *CustomerModel `json:"customer,omitempty"`

	// The unique code of the customer that received this invitation.
	// Note: This field is case sensitive. To have exemption certificates apply, this value should
	// be the same as the one passed to create a customer.
	// Example: ABC
	CustomerCode string `json:"customerCode,omitempty"`

	// The date of the invitation.
	// Format: date-time
	Date strfmt.DateTime `json:"date,omitempty"`

	// Indicates the method that was used to deliver this CertExpress invitation.
	// Example: Email
	// Enum: [Email Fax Download]
	DeliveryMethod string `json:"deliveryMethod,omitempty"`

	// The status of the emails associated with this invitation.  If this invitation was sent via email,
	// this value will change to `Sent` when the email message has been sent.
	// Read Only: true
	EmailStatus string `json:"emailStatus,omitempty"`

	// The list of exemption reasons identified by this CertExpress invitation.
	//
	// For a list of reason codes, please call `ListCertificateExemptReasons`.
	ExemptReasons []int32 `json:"exemptReasons"`

	// When an invitation is sent, it contains a list of exposure zones for which the customer is invited to upload
	// their exemption certificates.  This list contains the ID numbers of the exposure zones identified.
	//
	// For a list of exposure zones, please call `ListCertificateExposureZones`.
	ExposureZones []int32 `json:"exposureZones"`

	// A unique ID number representing this CertExpress invitation.
	// Read Only: true
	ID int32 `json:"id,omitempty"`

	// The custom message delivered with this invitation.
	Message string `json:"message,omitempty"`

	// The email address to which this invitation was sent.  If this invitation was presented as a weblink, this value will be null.
	Recipient string `json:"recipient,omitempty"`

	// The web link (URL) that a customer can click on or visit to begin using this CertExpress invitation.
	//
	// This value is only usable if the status of this invitation is `Ready` and the request was created with type `Download`.
	// NOTE: This link usually takes a few minutes to be available.
	RequestLink string `json:"requestLink,omitempty"`
}

// Validate validates this cert express invitation model
func (m *CertExpressInvitationModel) Validate(formats strfmt.Registry) error {
	var res []error

	if err := m.validateCoverLetter(formats); err != nil {
		res = append(res, err)
	}

	if err := m.validateCustomer(formats); err != nil {
		res = append(res, err)
	}

	if err := m.validateDate(formats); err != nil {
		res = append(res, err)
	}

	if err := m.validateDeliveryMethod(formats); err != nil {
		res = append(res, err)
	}

	if len(res) > 0 {
		return errors.CompositeValidationError(res...)
	}
	return nil
}

func (m *CertExpressInvitationModel) validateCoverLetter(formats strfmt.Registry) error {
	if swag.IsZero(m.CoverLetter) { // not required
		return nil
	}

	if m.CoverLetter != nil {
		if err := m.CoverLetter.Validate(formats); err != nil {
			if ve, ok := err.(*errors.Validation); ok {
				return ve.ValidateName("coverLetter")
			} else if ce, ok := err.(*errors.CompositeError); ok {
				return ce.ValidateName("coverLetter")
			}
			return err
		}
	}

	return nil
}

func (m *CertExpressInvitationModel) validateCustomer(formats strfmt.Registry) error {
	if swag.IsZero(m.Customer) { // not required
		return nil
	}

	if m.Customer != nil {
		if err := m.Customer.Validate(formats); err != nil {
			if ve, ok := err.(*errors.Validation); ok {
				return ve.ValidateName("customer")
			} else if ce, ok := err.(*errors.CompositeError); ok {
				return ce.ValidateName("customer")
			}
			return err
		}
	}

	return nil
}

func (m *CertExpressInvitationModel) validateDate(formats strfmt.Registry) error {
	if swag.IsZero(m.Date) { // not required
		return nil
	}

	if err := validate.FormatOf("date", "body", "date-time", m.Date.String(), formats); err != nil {
		return err
	}

	return nil
}

var certExpressInvitationModelTypeDeliveryMethodPropEnum []interface{}

func init() {
	var res []string
	if err := json.Unmarshal([]byte(`["Email","Fax","Download"]`), &res); err != nil {
		panic(err)
	}
	for _, v := range res {
		certExpressInvitationModelTypeDeliveryMethodPropEnum = append(certExpressInvitationModelTypeDeliveryMethodPropEnum, v)
	}
}

const (

	// CertExpressInvitationModelDeliveryMethodEmail captures enum value "Email"
	CertExpressInvitationModelDeliveryMethodEmail string = "Email"

	// CertExpressInvitationModelDeliveryMethodFax captures enum value "Fax"
	CertExpressInvitationModelDeliveryMethodFax string = "Fax"

	// CertExpressInvitationModelDeliveryMethodDownload captures enum value "Download"
	CertExpressInvitationModelDeliveryMethodDownload string = "Download"
)

// prop value enum
func (m *CertExpressInvitationModel) validateDeliveryMethodEnum(path, location string, value string) error {
	if err := validate.EnumCase(path, location, value, certExpressInvitationModelTypeDeliveryMethodPropEnum, true); err != nil {
		return err
	}
	return nil
}

func (m *CertExpressInvitationModel) validateDeliveryMethod(formats strfmt.Registry) error {
	if swag.IsZero(m.DeliveryMethod) { // not required
		return nil
	}

	// value enum
	if err := m.validateDeliveryMethodEnum("deliveryMethod", "body", m.DeliveryMethod); err != nil {
		return err
	}

	return nil
}

// ContextValidate validate this cert express invitation model based on the context it is used
func (m *CertExpressInvitationModel) ContextValidate(ctx context.Context, formats strfmt.Registry) error {
	var res []error

	if err := m.contextValidateCoverLetter(ctx, formats); err != nil {
		res = append(res, err)
	}

	if err := m.contextValidateCoverLettersOnly(ctx, formats); err != nil {
		res = append(res, err)
	}

	if err := m.contextValidateCustomer(ctx, formats); err != nil {
		res = append(res, err)
	}

	if err := m.contextValidateEmailStatus(ctx, formats); err != nil {
		res = append(res, err)
	}

	if err := m.contextValidateID(ctx, formats); err != nil {
		res = append(res, err)
	}

	if len(res) > 0 {
		return errors.CompositeValidationError(res...)
	}
	return nil
}

func (m *CertExpressInvitationModel) contextValidateCoverLetter(ctx context.Context, formats strfmt.Registry) error {

	if m.CoverLetter != nil {
		if err := m.CoverLetter.ContextValidate(ctx, formats); err != nil {
			if ve, ok := err.(*errors.Validation); ok {
				return ve.ValidateName("coverLetter")
			} else if ce, ok := err.(*errors.CompositeError); ok {
				return ce.ValidateName("coverLetter")
			}
			return err
		}
	}

	return nil
}

func (m *CertExpressInvitationModel) contextValidateCoverLettersOnly(ctx context.Context, formats strfmt.Registry) error {

	if err := validate.ReadOnly(ctx, "coverLettersOnly", "body", m.CoverLettersOnly); err != nil {
		return err
	}

	return nil
}

func (m *CertExpressInvitationModel) contextValidateCustomer(ctx context.Context, formats strfmt.Registry) error {

	if m.Customer != nil {
		if err := m.Customer.ContextValidate(ctx, formats); err != nil {
			if ve, ok := err.(*errors.Validation); ok {
				return ve.ValidateName("customer")
			} else if ce, ok := err.(*errors.CompositeError); ok {
				return ce.ValidateName("customer")
			}
			return err
		}
	}

	return nil
}

func (m *CertExpressInvitationModel) contextValidateEmailStatus(ctx context.Context, formats strfmt.Registry) error {

	if err := validate.ReadOnly(ctx, "emailStatus", "body", string(m.EmailStatus)); err != nil {
		return err
	}

	return nil
}

func (m *CertExpressInvitationModel) contextValidateID(ctx context.Context, formats strfmt.Registry) error {

	if err := validate.ReadOnly(ctx, "id", "body", int32(m.ID)); err != nil {
		return err
	}

	return nil
}

// MarshalBinary interface implementation
func (m *CertExpressInvitationModel) MarshalBinary() ([]byte, error) {
	if m == nil {
		return nil, nil
	}
	return swag.WriteJSON(m)
}

// UnmarshalBinary interface implementation
func (m *CertExpressInvitationModel) UnmarshalBinary(b []byte) error {
	var res CertExpressInvitationModel
	if err := swag.ReadJSON(b, &res); err != nil {
		return err
	}
	*m = res
	return nil
}
